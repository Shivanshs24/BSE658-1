---
title: 'Descriptive Statistics: Scaling and Correlations'
output:
  html_document:
    df_print: paged
  html_notebook: default
  pdf_document: default
---
```{r}
library(psych)
```


```{r}
#Try it out yourself
#Define a vector with Grumpiness scores of you and your friends and find the z score for your self
X = 100                  
z = (X - mean(X)) / sd(X)
```

_Reference: Chapter 5, Winter B._


```{r}
setwd("C:/Users/shiva/Documents/GitHub/BSE658-1/Module 3/Notebooks")

#Let's load some data
load( "parenthood.Rdata" )
```

```{r}
#Try describe() for the above dataframe
describe(parenthood)
```


```{r}
#Let's also take a graphical look at the data 
hist(parenthood$dan.sleep)

#Try plotting for the other 2 variables

```



```{r}
install.packages("car")
install.packages("Rcpp")
```

```{r}
library(car)
scatterplot( dan.grump ~ dan.sleep, data = parenthood, regLine = FALSE, smooth = FALSE)
```

```{r}
#Plot a scatter plot for baby.sleep and dan.grump variables
scatterplot( baby.sleep ~ dan.grump, data = parenthood, regLine = TRUE, smooth = TRUE)
```

```{r}
#Plot baby sleep and dan sleep here
scatterplot(baby.sleep~ dan.sleep, data = parenthood)
```





```{r}
cor(x = parenthood$dan.sleep, y = parenthood$dan.grump)
cor(parenthood)

#Try giving the entire dataframe 'parenthood' as input in cor()
```
 
Now let's take a look at this data called "Anscombe's Quartet"
 
```{r}
load( "anscombesquartet.Rdata" )
cor( X1, Y1 )
cor( X2, Y2 )
cor (X3, Y3)
cor (X4, Y4)
```

Were the correlation coefficients same?

Now try plotting them.

```{r}
scatterplot(X1~Y3, data=anscombe)
```


```{r}
setwd("C:/Users/shiva/Documents/GitHub/BSE658-1/Module 3/Notebooks")
load( "effort.Rdata" )
effort
cor( effort$hours, effort$grade )
```

If you plot this - 

```{r}
scatterplot(effort$hours, effort$grade, regLine = TRUE, smooth = FALSE)
```


```{r}
hours.rank <- rank( effort$hours )   # rank students by hours worked
grade.rank <- rank( effort$grade )   # rank students by grade received

#Now try cor() function for these
cor( hours.rank, grade.rank )
```

Now the correlation coefficient we get is different from the Perason's correlation coefficient _r_ we got earlier. This new correlation coefficient that we got is called '**Spearman's Correlation Coefficient**', denoted by $\rho$.

```{r}
#Execute this and compare with the correlation coefficient we got above
cor( effort$hours, effort$grade, method = "spearman")
```



```{r}
load( "parenthood2.Rdata" )
print( parenthood2 )
describe( parenthood2 ) 
#Check how many missing values are there for each variable - compare the values in 'n' with the number of days.
```

Now, let's try finding correlations for this dataframe.

```{r}
cor(parenthood2)
```

```{r}
cor(parenthood2, use = "complete.obs")
cor(parenthood2, use = "pairwise.complete.obs")
```

```{r}
#Try correlate() for parenthood2 here
cor(parenthood2)
```
```{r}
install.packages("ggcorrplot")
```
```{r}

data(mtcars)
corr <- round(cor(mtcars), 1)
head(corr[, 1:6])
```
```{r}
p.mat <- cor_pmat(mtcars)
head(p.mat[, 1:4])
```

```{r}
ggcorrplot(corr, method=c("circle"), type=c("full"), ggtheme= ggplot2::theme_bw(), title="", show.legend = TRUE, legend.title = "Corr", show.diag = NULL)
```
```{r}
ggcorrplot(corr, method = "square", ggtheme= ggplot2::theme_grey(), show.diag = NULL, colors="blue")
```
```{r}
ggcorrplot(corr, hc.order = TRUE, outline.col = "black")
```

```{r}
ggcorrplot(corr, hc.order = TRUE, type = "upper",
     outline.col = "green")
```

```{r}
ggcorrplot(corr, hc.order = TRUE, type = "lower",
     outline.col = "white")
```
```{r}
ggcorrplot(corr, hc.order = TRUE, type = "lower",
   outline.col = "white",
   ggtheme = ggplot2::theme_gray,
   colors = c("#8C9EC1", "white", "#A46726"))
```

```{r}
ggcorrplot(corr, hc.order = TRUE, type = "lower",
   lab = TRUE)
```

```{r}
ggcorrplot(corr, p.mat = p.mat, hc.order = TRUE,
    type = "lower", insig = "pch")
```




